## 什么是操作系统

### 操作系统的构成

![image-20240614233309817](lecture introduction(导论).assets/image-20240614233309817.png)

### 计算机系统层次结构

![image-20240614233858626](lecture introduction(导论).assets/image-20240614233858626.png)

### 接口

接口是连接两个物体的边界，通过这个界面，两边可以很好地对话。

计算机体系结构中有三种常见的接口：

（1）硬件 - 硬件 比如usb接口

（2）软件 - 硬件 比如操作系统通过执行相关的指令集来操控硬件

（3）软件 - 软件 比如数据库驱动程序就是此类接口，数据库软件通过这个接口，可以在执行sql语句来完成增删改查等功能



### 虚拟机

操作系统就是一个“虚拟的计算机”，用户对这个计算机的操作可以转化成操作系统对硬件的操作。



### 操作系统可以做什么

从用户的角度

（1）提供良好的用户界面。

（2）使得编程更加方便，不容易出错。

从系统的角度

（1）可以更加方便地管理计算机系统的硬件资源和软件资源。



## 计算机系统的组成

![image-20240615154011715](lecture introduction(导论).assets/image-20240615154011715.png)

问题：操作系统在哪个组件中？

在磁盘中。



### 中断

当有事件发生的时候，cpu会收到一个中断信号，中断分成硬中断和软中断。

中断是cpu会停止正在做的事，转而执行中断程序，等到程序执行完毕，cpu会返回到之前中断的地方继续执行程序。

总结：操作系统是一个以中断驱动的系统。



## 存储结构

### 内存

程序在运行的过程中，相关的指令和数据会加载到内存中，cpu通过读取内存中的相关指令来执行对应的操作。

内存以字节为存储单位，每一个字节都有一个地址对应。通过load/store指令可以访问指定地址的内存数据。

1）load：把内存数据装入到寄存器中。

2）store：把寄存器数据装入到内存。



### 存储层次图

![image-20240615162225550](lecture introduction(导论).assets/image-20240615162225550.png)

易失性存储：在断电的情况下，数据会丢失。

非易失性存储：在断电的情况下，数据不会丢失。



### IO结构

管理IO设备是操作系统中非常重要的功能。操作系统中一个专门的io子系统负责完成此类工作。

![image-20240615163210205](lecture introduction(导论).assets/image-20240615163210205.png)



## 计算机系统体系结构

### 单处理器系统

1）只有一个主cpu，执行通用指令集。

2）带有其他专用处理器，为特定设备服务，比如磁盘、键盘、图像控制器等。

举一个例子，键盘在输入时，键盘处理器会停止执行当前程序，转而去执行键盘输入事件，等到执行完成后，转去程序中断处继续执行程序。



### 多处理器系统

有多个紧密通信的cpu，他们共享计算机总线，时钟，内存等。

多处理器系统有两种模式，一种是非对称处理，另外一种是非对称处理。

1）非对称处理：主cpu执行主要任务程序，从cpu执行次要任务程序。

2）对称处理：多个cpu共享计算机总线，内存等。程序在多个cpu上可以并行执行。

![image-20240615165248075](lecture introduction(导论).assets/image-20240615165248075.png)



## 操作系统结构

开发者应该考虑用什么模式来开发操作系统。

### 单道模式

输入500个字符(花78ms)，经CPU处理52ms后，将结果2000个字符存到磁带上(花20ms) ，重复进行。

![image-20240615170603372](lecture introduction(导论).assets/image-20240615170603372.png)



### 多道模式



### 分时系统

多个任务可以并行执行的系统。分时系统为每个用户分配等量的时间片，当轮到该用户时，执行对应的任务。